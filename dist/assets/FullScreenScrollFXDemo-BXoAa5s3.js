import{d as re,o as ke,a as Fe,i as _e,r as Be,h as se,c as Ce,b as Ee,e as Le,j as Pe}from"./app-BNk5Tten.js";
import{r as n,j as t,R as L}from"./button-B3GKAfbB.js";import{g as a,S as P}from"./ScrollTrigger-B2uKOqL4.js";
import{c as Se,_ as Ne}from"./WebsiteLayout.vue_vue_type_script_setup_true_lang-BAxTIeP7.js";import"./Button.vue_vue_type_script_setup_true_lang-PhlT1jFQ.js";import"./Primitive-CjWR7Ema.js";import"./SheetContent.vue_vue_type_script_setup_true_lang-BMW_SBM-.js";import"./useForwardPropsEmits-kFya-Fyw.js";import"./useForwardExpose-Bt4yM_YF.js";import"./index-sF3JAlrh.js";import"./Presence-CC9Lr9XA.js";import"./chevron-down-C0bHS54j.js";typeof window<"u"&&a.registerPlugin(P);const D=(h,b,p)=>Math.max(b,Math.min(p,h)),ne=n.forwardRef(({sections:h,className:b,style:p,fontFamily:H='"Rubik Wide", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif',header:$,footer:O,gap:oe=1,gridPaddingX:ae=2,showProgress:ce=!0,debug:ie=!1,durations:M={change:.7,snap:800},reduceMotion:le,smoothScroll:Ae=!1,bgTransition:U="fade",parallaxAmount:T=4,currentIndex:V,onIndexChange:fe,initialIndex:y=0,colors:S={text:"rgba(245,245,245,0.92)",overlay:"rgba(0,0,0,0.35)",pageBg:"#ffffff",stageBg:"#000000"},apiRef:ue,ariaLabel:de="Full screen scroll slideshow"},N)=>{const l=h.length,[pe,ge]=n.useState(D(y,0,Math.max(0,l-1))),G=typeof V=="number",c=G?D(V,0,Math.max(0,l-1)):pe,he=n.useRef(null),I=n.useRef(null),W=n.useRef(null),v=n.useRef([]),k=n.useRef([]),A=n.useRef(null),z=n.useRef(null),F=n.useRef([]),_=n.useRef([]),j=n.useRef(null),X=n.useRef(null),J=n.useRef(null),m=n.useRef(c),B=n.useRef(!1),C=n.useRef(!1),Y=n.useRef([]),me=n.useMemo(()=>typeof window>"u"?!1:window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]),K=le??me,R=n.useRef([]),xe=e=>{const r=e.split(/\s+/).filter(Boolean);return r.map((s,o)=>t.jsxs("span",{className:"fx-word-mask",children:[t.jsx("span",{className:"fx-word",ref:i=>{i&&R.current.push(i)},children:s}),o<r.length-1?" ":null]},o))},be=({onReady:e})=>(n.useEffect(()=>e(),[]),null),Q=()=>{const e=W.current;if(!e)return;const r=e.offsetTop,s=e.offsetHeight,o=[];for(let i=0;i<l;i++)o.push(r+s*i/l);Y.current=o},E=(e=c,r=!0)=>{const s=(o,i,g)=>{if(!o||i.length===0)return;const u=i[0],f=i[1],x=o.getBoundingClientRect();let d=u.getBoundingClientRect().height;f&&(d=f.getBoundingClientRect().top-u.getBoundingClientRect().top);const te=x.height/2-d/2-e*d,q=g?z:A;q.current&&(r?a.to(q.current,{y:te,duration:(M.change??.7)*.9,ease:"power3.out"}):a.set(q.current,{y:te}))};Z(()=>{Z(()=>{s(A.current,F.current,!1),s(z.current,_.current,!0)})})},Z=e=>{typeof window>"u"||requestAnimationFrame(()=>requestAnimationFrame(e))};n.useLayoutEffect(()=>{if(typeof window>"u")return;const e=I.current,r=W.current;if(!e||!r||l===0)return;a.set(v.current,{opacity:0,scale:1.04,yPercent:0}),v.current[0]&&a.set(v.current[0],{opacity:1,scale:1}),k.current.forEach((i,g)=>{i.forEach(u=>{a.set(u,{yPercent:g===c?0:100,opacity:g===c?1:0})})}),Q(),E(c,!1);const s=P.create({trigger:r,start:"top top",end:"bottom bottom",pin:e,pinSpacing:!0,onUpdate:i=>{if(K||C.current)return;const g=i.progress,u=Math.min(l-1,Math.floor(g*l));if(u!==m.current&&!B.current){const f=m.current+(u>m.current?1:-1);w(f,!1)}if(j.current){const f=m.current/(l-1||1)*100;j.current.style.width=`${f}%`}}});J.current=s,y&&y>0&&y<l&&requestAnimationFrame(()=>w(y,!1));const o=new ResizeObserver(()=>{Q(),E(m.current,!1),P.refresh()});return o.observe(r),()=>{o.disconnect(),s.kill(),J.current=null}},[l,y,K,U,T]);const ye=e=>{if(e===m.current||B.current)return;const r=m.current,s=e>r;if(B.current=!0,G||ge(e),fe?.(e),X.current&&(X.current.textContent=String(e+1).padStart(2,"0")),j.current){const x=e/(l-1||1)*100;j.current.style.width=`${x}%`}const o=M.change??.7,i=k.current[r]||[],g=k.current[e]||[];i.length&&a.to(i,{yPercent:s?-100:100,opacity:0,duration:o*.6,stagger:s?.03:-.03,ease:"power3.out"}),g.length&&(a.set(g,{yPercent:s?100:-100,opacity:0}),a.to(g,{yPercent:0,opacity:1,duration:o,stagger:s?.05:-.05,ease:"power3.out"}));const u=v.current[r],f=v.current[e];U==="fade"?(f&&(a.set(f,{opacity:0,scale:1.04,yPercent:s?1:-1}),a.to(f,{opacity:1,scale:1,yPercent:0,duration:o,ease:"power2.out"})),u&&a.to(u,{opacity:0,yPercent:s?-T:T,duration:o,ease:"power2.out"})):(f&&(a.set(f,{opacity:1,clipPath:s?"inset(100% 0 0 0)":"inset(0 0 100% 0)",scale:1,yPercent:0}),a.to(f,{clipPath:"inset(0 0 0 0)",duration:o,ease:"power3.out"})),u&&a.to(u,{opacity:0,duration:o*.8,ease:"power2.out"})),E(e,!0),F.current.forEach((x,d)=>{x.classList.toggle("active",d===e),a.to(x,{opacity:d===e?1:.35,x:d===e?10:0,duration:o*.6,ease:"power3.out"})}),_.current.forEach((x,d)=>{x.classList.toggle("active",d===e),a.to(x,{opacity:d===e?1:.35,x:d===e?-10:0,duration:o*.6,ease:"power3.out"})}),a.delayedCall(o,()=>{m.current=e,B.current=!1})},w=(e,r=!0)=>{const s=D(e,0,l-1);C.current=!0,ye(s);const o=Y.current[s],i=M.snap??800;r&&typeof window<"u"?(window.scrollTo({top:o,behavior:"smooth"}),setTimeout(()=>C.current=!1,i)):setTimeout(()=>C.current=!1,10)},ve=()=>w(c+1),we=()=>w(c-1);n.useImperativeHandle(ue,()=>({next:ve,prev:we,goTo:w,getIndex:()=>c,refresh:()=>P.refresh()}));const ee=e=>w(e),je=()=>{F.current.forEach((e,r)=>{a.fromTo(e,{opacity:0,y:20},{opacity:r===c?1:.35,y:0,duration:.5,delay:r*.06,ease:"power3.out"})}),_.current.forEach((e,r)=>{a.fromTo(e,{opacity:0,y:20},{opacity:r===c?1:.35,y:0,duration:.5,delay:.2+r*.06,ease:"power3.out"})})};n.useEffect(()=>{je(),E(c,!1)},[]);const Re={"--fx-font":H,"--fx-text":S.text??"rgba(245,245,245,0.92)","--fx-overlay":S.overlay??"rgba(0,0,0,0.35)","--fx-page-bg":S.pageBg??"#fff","--fx-stage-bg":S.stageBg??"#000","--fx-gap":`${oe}rem`,"--fx-grid-px":`${ae}rem`,"--fx-row-gap":"10px"};return t.jsxs("div",{ref:e=>{he.current=e,typeof N=="function"?N(e):N&&(N.current=e)},className:["fx",b].filter(Boolean).join(" "),style:{...Re,...p},"aria-label":de,children:[ie&&t.jsxs("div",{className:"fx-debug",children:["Section: ",c]}),t.jsx("div",{className:"fx-scroll",children:t.jsx("div",{className:"fx-fixed-section",ref:W,children:t.jsxs("div",{className:"fx-fixed",ref:I,children:[t.jsx("div",{className:"fx-bgs","aria-hidden":"true",children:h.map((e,r)=>t.jsx("div",{className:"fx-bg",children:e.renderBackground?e.renderBackground(c===r,m.current===r):t.jsxs(t.Fragment,{children:[t.jsx("img",{ref:s=>{s&&(v.current[r]=s)},src:e.background,alt:"",className:"fx-bg-img"}),t.jsx("div",{className:"fx-bg-overlay"})]})},e.id??r))}),t.jsxs("div",{className:"fx-grid",children:[$&&t.jsx("div",{className:"fx-header",children:$}),t.jsxs("div",{className:"fx-content",children:[t.jsx("div",{className:"fx-left",role:"list",children:t.jsx("div",{className:"fx-track",ref:A,children:h.map((e,r)=>t.jsx("div",{className:`fx-item fx-left-item ${r===c?"active":""}`,ref:s=>{s&&(F.current[r]=s)},onClick:()=>ee(r),role:"button",tabIndex:0,"aria-pressed":r===c,children:e.leftLabel},`L-${e.id??r}`))})}),t.jsx("div",{className:"fx-center",children:h.map((e,r)=>{R.current=[];const s=typeof e.title=="string";return t.jsxs("div",{className:`fx-featured ${r===c?"active":""}`,children:[t.jsx("h3",{className:"fx-featured-title",children:s?xe(e.title):e.title}),t.jsx(be,{onReady:()=>{R.current.length&&(k.current[r]=[...R.current]),R.current=[]}})]},`C-${e.id??r}`)})}),t.jsx("div",{className:"fx-right",role:"list",children:t.jsx("div",{className:"fx-track",ref:z,children:h.map((e,r)=>t.jsx("div",{className:`fx-item fx-right-item ${r===c?"active":""}`,ref:s=>{s&&(_.current[r]=s)},onClick:()=>ee(r),role:"button",tabIndex:0,"aria-pressed":r===c,children:e.rightLabel},`R-${e.id??r}`))})})]}),t.jsxs("div",{className:"fx-footer",children:[O&&t.jsx("div",{className:"fx-footer-title",children:O}),ce&&t.jsxs("div",{className:"fx-progress",children:[t.jsxs("div",{className:"fx-progress-numbers",children:[t.jsx("span",{ref:X,children:String(c+1).padStart(2,"0")}),t.jsx("span",{children:String(l).padStart(2,"0")})]}),t.jsx("div",{className:"fx-progress-bar",children:t.jsx("div",{className:"fx-progress-fill",ref:j})})]})]})]})]})})}),t.jsx("style",{children:`
          .fx {
            width: 100%;
            overflow: hidden;
            background: var(--fx-page-bg);
            color: #000;
            font-family: var(--fx-font);
            text-transform: uppercase;
            letter-spacing: -0.02em;
          }

          .fx-debug {
            position: fixed; bottom: 10px; right: 10px; z-index: 9999;
            background: rgba(255,255,255,0.8); color: #000; padding: 6px 8px; font: 12px/1 monospace; border-radius: 4px;
          }

          .fx-fixed-section { height: ${l*100}vh; position: relative; }
          .fx-fixed { position: sticky; top: 0; height: 100vh; width: 100%; overflow: hidden; background: var(--fx-page-bg); }

          .fx-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: var(--fx-gap);
            padding: 0 var(--fx-grid-px);
            position: relative;
            height: 100%;
            z-index: 2;
          }

          .fx-bgs { position: absolute; inset: 0; background: var(--fx-stage-bg); z-index: 1; }
          .fx-bg { position: absolute; inset: 0; }
          .fx-bg-img {
            position: absolute; inset: -10% 0 -10% 0;
            width: 100%; height: 120%; object-fit: cover;
            filter: brightness(0.8);
            opacity: 0;
            will-change: transform, opacity;
          }
          .fx-bg-overlay { position: absolute; inset: 0; background: var(--fx-overlay); }

          .fx-header {
            grid-column: 1 / 13; align-self: start; padding-top: 6vh;
            font-size: clamp(2rem, 9vw, 9rem); line-height: 0.86; text-align: center; color: var(--fx-text);
          }
            .fx-left, .fx-right { justify-items: center; }
            .fx-track { transform: none !important; }
          }
        `})]})});ne.displayName="FullScreenScrollFX";const $e=[{leftLabel:"Silence",title:t.jsx(t.Fragment,{children:"Absence"}),rightLabel:"Silence",background:"https://images.unsplash.com/photo-3289156/pexels-photo-3289156.jpeg?auto=format&fit=crop&w=1920"},{leftLabel:"Essence",title:t.jsx(t.Fragment,{children:"Stillness"}),rightLabel:"Essence",background:"https://images.unsplash.com/photo-163790/at-night-under-a-lantern-guy-night-city-163790.jpeg?auto=format&fit=crop&w=1920"},{leftLabel:"Rebirth",title:t.jsx(t.Fragment,{children:"Growth"}),rightLabel:"Rebirth",background:"https://images.unsplash.com/photo-9817/pexels-photo-9817.jpeg?auto=format&fit=crop&w=1920"},{leftLabel:"Change",title:t.jsx(t.Fragment,{children:"Opportunity"}),rightLabel:"Change",background:"https://images.unsplash.com/photo-939807/pexels-photo-939807.jpeg?auto=format&fit=crop&w=1920"}];function Me(){return L.useRef(null),t.jsx(t.Fragment,{children:t.jsx(ne,{sections:$e,header:t.jsxs(t.Fragment,{children:[t.jsx("div",{children:"The Creative"}),t.jsx("div",{children:"Process"})]}),footer:t.jsx("div",{}),showProgress:!0,durations:{change:.7,snap:800}})})}const Te=re({__name:"FullScreenScrollFXWrapper",setup(h){const b=Be(null);let p=null;return ke(()=>{b.value&&(p=Se.createRoot(b.value),p.render(L.createElement(L.StrictMode,null,L.createElement(Me))))}),Fe(()=>{p&&(p.unmount(),p=null)}),(H,$)=>(se(),_e("div",{ref_key:"container",ref:b,class:"w-full"},null,512))}}),We={class:"min-h-screen bg-background"},Ke=re({__name:"FullScreenScrollFXDemo",setup(h){return(b,p)=>(se(),Ce(Ne,null,{default:Ee(()=>[Le("div",We,[Pe(Te)])]),_:1}))}});export{Ke as default};
