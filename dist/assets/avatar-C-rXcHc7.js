import{r as l,j as S,d as F,c as w}from"./button-B3GKAfbB.js";import{P as A,u as H,a as E}from"./index-MR6zpLVp.js";function T(e,r=[]){let n=[];function i(t,c){const o=l.createContext(c);o.displayName=t+"Context";const s=n.length;n=[...n,c];const f=a=>{const{scope:d,children:p,...m}=a,v=d?.[e]?.[s]||o,g=l.useMemo(()=>m,Object.values(m));return S.jsx(v.Provider,{value:g,children:p})};f.displayName=t+"Provider";function x(a,d){const p=d?.[e]?.[s]||o,m=l.useContext(p);if(m)return m;if(c!==void 0)return c;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[f,x]}const u=()=>{const t=n.map(c=>l.createContext(c));return function(o){const s=o?.[e]||t;return l.useMemo(()=>({[`__scope${e}`]:{...o,[e]:s}}),[o,s])}};return u.scopeName=e,[i,U(u,...r)]}function U(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const i=e.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(t){const c=i.reduce((o,{useScope:s,scopeName:f})=>{const a=s(t)[`__scope${f}`];return{...o,...a}},{});return l.useMemo(()=>({[`__scope${r.scopeName}`]:c}),[c])}};return n.scopeName=r.scopeName,n}var h={exports:{}},y={};var C;function V(){if(C)return y;C=1;var e=F();function r(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=e.useState,u=e.useEffect,t=e.useLayoutEffect,c=e.useDebugValue;function o(a,d){var p=d(),m=i({inst:{value:p,getSnapshot:d}}),v=m[0].inst,g=m[1];return t(function(){v.value=p,v.getSnapshot=d,s(v)&&g({inst:v})},[a,p,d]),u(function(){return s(v)&&g({inst:v}),a(function(){s(v)&&g({inst:v})})},[a]),c(p),p}function s(a){var d=a.getSnapshot;a=a.value;try{var p=d();return!n(a,p)}catch{return!0}}function f(a,d){return d()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return y.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,y}var _;function B(){return _||(_=1,h.exports=V()),h.exports}var D=B();function G(){return D.useSyncExternalStore(O,()=>!0,()=>!1)}function O(){return()=>{}}var L="Avatar",[K]=T(L),[W,b]=K(L),N=l.forwardRef((e,r)=>{const{__scopeAvatar:n,...i}=e,[u,t]=l.useState("idle");return S.jsx(W,{scope:n,imageLoadingStatus:u,onImageLoadingStatusChange:t,children:S.jsx(A.span,{...i,ref:r})})});N.displayName=L;var j="AvatarImage",I=l.forwardRef((e,r)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:u=()=>{},...t}=e,c=b(j,n),o=z(i,t),s=H(f=>{u(f),c.onImageLoadingStatusChange(f)});return E(()=>{o!=="idle"&&s(o)},[o,s]),o==="loaded"?S.jsx(A.img,{...t,ref:r,src:i}):null});I.displayName=j;var P="AvatarFallback",$=l.forwardRef((e,r)=>{const{__scopeAvatar:n,delayMs:i,...u}=e,t=b(P,n),[c,o]=l.useState(i===void 0);return l.useEffect(()=>{if(i!==void 0){const s=window.setTimeout(()=>o(!0),i);return()=>window.clearTimeout(s)}},[i]),c&&t.imageLoadingStatus!=="loaded"?S.jsx(A.span,{...u,ref:r}):null});$.displayName=P;function R(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function z(e,{referrerPolicy:r,crossOrigin:n}){const i=G(),u=l.useRef(null),t=i?(u.current||(u.current=new window.Image),u.current):null,[c,o]=l.useState(()=>R(t,e));return E(()=>{o(R(t,e))},[t,e]),E(()=>{const s=a=>()=>{o(a)};if(!t)return;const f=s("loaded"),x=s("error");return t.addEventListener("load",f),t.addEventListener("error",x),r&&(t.referrerPolicy=r),typeof n=="string"&&(t.crossOrigin=n),()=>{t.removeEventListener("load",f),t.removeEventListener("error",x)}},[t,n,r]),c}var k=N,M=I,q=$;const J=l.forwardRef(({className:e,...r},n)=>S.jsx(k,{ref:n,className:w("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));J.displayName=k.displayName;const Q=l.forwardRef(({className:e,...r},n)=>S.jsx(M,{ref:n,className:w("aspect-square h-full w-full",e),...r}));Q.displayName=M.displayName;const X=l.forwardRef(({className:e,...r},n)=>S.jsx(q,{ref:n,className:w("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));X.displayName=q.displayName;export{J as A,Q as a,X as b};
